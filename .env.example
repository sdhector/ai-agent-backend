# AI Assistant Backend API - Environment Configuration
#
# This is the BACKEND repository. The frontend is in a separate repository.
# Copy this file to .env and update with your actual values.
# Mirror every value into Google Secret Manager when deploying to Cloud Run.

# =============================================================================
# Claude / Anthropic Provider (Secret)
# Obtain from https://console.anthropic.com/ (either key name is accepted)
# =============================================================================
CLAUDE_API_KEY=sk-ant-your-claude-key-here
# ANTHROPIC_API_KEY=sk-ant-your-anthropic-key-here

# =============================================================================
# Core Security Secrets (Secret)
# Generate with:
#   JWT_SECRET          → openssl rand -base64 32
#   ENCRYPTION_KEY      → openssl rand -base64 32   (must decode to 32 bytes)
#   TOKEN_ENCRYPTION_KEY→ openssl rand -hex 32      (exactly 64 hex chars)
# =============================================================================
JWT_SECRET=your_base64_secret_here
ENCRYPTION_KEY=your_base64_32_byte_secret_here
TOKEN_ENCRYPTION_KEY=your_64_character_hex_key_here

# =============================================================================
# Database Configuration (Secret)
# Use the same DATABASE_URL / DB_PASSWORD that is functioning today.
# Example local URL: postgres://postgres:password@localhost:5432/ai_assistant_pwa
# =============================================================================
DATABASE_URL=postgres://username:password@host:5432/ai_assistant_pwa
DB_PASSWORD=your_secure_password_here
DB_HOST=localhost
DB_PORT=5432
DB_NAME=ai_assistant_pwa
DB_USER=postgres
DB_SSL=false
DB_MAX_CONNECTIONS=20

# =============================================================================
# Google OAuth (Secret credentials + public redirect URLs)
# Client ID/secret from Google Cloud → APIs & Services → Credentials.
# IMPORTANT: Update authorized redirect URIs in Google Cloud Console to include:
#   - http://localhost:8080/api/auth/google/callback (local backend)
#   - https://your-backend.run.app/api/auth/google/callback (production)
# IMPORTANT: Update authorized JavaScript origins to include:
#   - http://localhost:8081 (Expo web development)
#   - https://your-pwa-domain.web.app (production PWA)
# =============================================================================
GOOGLE_CLIENT_ID=your-google-oauth-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-oauth-client-secret
FRONTEND_URL=http://localhost:8081
OAUTH_REDIRECT_URI=http://localhost:8080/api/auth/google/callback

# =============================================================================
# Optional Additional Provider Secrets (Secret)
# Uncomment if you enable these providers and add matching secrets in GCP.
# =============================================================================
# OPENAI_API_KEY=sk-openai-key
# GEMINI_API_KEY=google-ai-key
# OPENROUTER_API_KEY=openrouter-key

# =============================================================================
# Runtime Feature Flags
# =============================================================================
MCP_ENABLED=true
MCP_TOKEN_REFRESH_INTERVAL=3600000
MCP_TOKEN_REFRESH_BUFFER_MINUTES=5

# Backend Server Configuration
BACKEND_PORT=8080
PORT=8080
HOST=0.0.0.0
NODE_ENV=development

# API Configuration
API_TIMEOUT=30000
MAX_TOKENS=4000
JWT_EXPIRY=7d

# Feature Toggles
ENABLE_RATE_LIMIT=true
ENABLE_LOGGING=true
ENABLE_CACHING=false
